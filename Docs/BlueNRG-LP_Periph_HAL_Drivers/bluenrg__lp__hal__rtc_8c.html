<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>BlueNRG-LP Peripherals HAL drivers APIs: bluenrg_lp_hal_rtc.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ST-logo-small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BlueNRG-LP Peripherals HAL drivers APIs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">bluenrg_lp_hal_rtc.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>RTC HAL module driver. This file provides firmware functions to manage the following functionalities of the Real-Time Clock (RTC) peripheral:  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;bluenrg_lp_hal.h&quot;</code><br />
</div>
<p><a href="bluenrg__lp__hal__rtc_8c_source.html">Go to the source code of this file.</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RTC HAL module driver. This file provides firmware functions to manage the following functionalities of the Real-Time Clock (RTC) peripheral: </p>
<dl class="section author"><dt>Author</dt><dd>RF Application Team<ul>
<li>Initialization</li>
<li>Calendar (Time and Date) configuration</li>
<li>Alarms (Alarm A) configuration</li>
<li>WakeUp Timer configuration</li>
<li>Backup Data Registers configuration</li>
<li>Interrupts and flags management</li>
</ul>
</dd></dl>
<pre class="fragment">===============================================================================   
                         ##### RTC Operating Condition #####
===============================================================================
 [..] The real-time clock (RTC) and the RTC backup registers can be powered
      from the VBAT voltage when the main VDD supply is powered off.
      To retain the content of the RTC backup registers and supply the RTC 
      when VDD is turned off, VBAT pin can be connected to an optional
      standby voltage supplied by a battery or by another source.

                  ##### Backup Domain Reset #####
===============================================================================
 [..] The backup domain reset sets all RTC registers and the RCC_BDCR register
      to their reset values. 
      A backup domain reset is generated when one of the following events occurs:
   (+) Software reset, triggered by setting the BDRST bit in the 
       RCC Backup domain control register (RCC_BDCR).
   (+) VDD or VBAT power on, if both supplies have previously been powered off.

                  ##### Backup Domain Access #####
===================================================================
 [..] After reset, the backup domain (RTC registers, RTC backup data 
      registers and backup SRAM) is protected against possible unwanted write 
      accesses.

 [..] To enable access to the RTC Domain and RTC registers, proceed as follows:
   (+) Call the function HAL_RCCEx_PeriphCLKConfig with RCC_PERIPHCLK_RTC for
       PeriphClockSelection and select RTCClockSelection (LSE, LSI or HSEdiv32)
   (+) Enable RTC Clock using the __HAL_RCC_RTC_ENABLE() macro.

                 ##### How to use RTC Driver #####
===================================================================
 [..]
   (+) Enable the RTC domain access (see description in the section above).
   (+) Configure the RTC Prescaler (Asynchronous and Synchronous) and RTC hour
       format using the HAL_RTC_Init() function.

 *** Time and Date configuration ***
 ===================================
 [..] 
   (+) To configure the RTC Calendar (Time and Date) use the HAL_RTC_SetTime()
       and HAL_RTC_SetDate() functions.
   (+) To read the RTC Calendar, use the HAL_RTC_GetTime() and HAL_RTC_GetDate() functions.

 *** Alarm configuration ***
 ===========================
 [..]
   (+) To configure the RTC Alarm use the HAL_RTC_SetAlarm() function.
           You can also configure the RTC Alarm with interrupt mode using the 
           HAL_RTC_SetAlarm_IT() function.
   (+) To read the RTC Alarm, use the HAL_RTC_GetAlarm() function.

                 ##### RTC and low power modes #####
 ==================================================================
 [..] The MCU can be woken up from a low power mode by an RTC alternate
      function.
 [..] The RTC alternate functions are the RTC alarms (Alarm A),
      RTC wakeup detection.
      These RTC alternate functions can wake up the system from the DeepStop
      low power modes.
 [..] The system can also wake up from low power modes without depending
      on an external interrupt (Auto-wakeup mode), by using the RTC alarm
      or the RTC wakeup events.
 [..] The RTC provides a programmable time base for waking up from the
      DeepStop mode at regular intervals.
      Wakeup from DEEPSTOP mode is possible only when the RTC clock source
      is LSE or LSI.

 *** Callback registration ***
 =============================================

 The compilation define  USE_RTC_REGISTER_CALLBACKS when set to 1
 allows the user to configure dynamically the driver callbacks.
 Use Function @ref HAL_RTC_RegisterCallback() to register an interrupt callback.

 Function @ref HAL_RTC_RegisterCallback() allows to register following callbacks:
   (+) AlarmAEventCallback          : RTC Alarm A Event callback.
   (+) WakeUpTimerEventCallback     : RTC WakeUpTimer Event callback.
   (+) MspInitCallback              : RTC MspInit callback.
   (+) MspDeInitCallback            : RTC MspDeInit callback.
 This function takes as parameters the HAL peripheral handle, the Callback ID
 and a pointer to the user callback function.

 Use function @ref HAL_RTC_UnRegisterCallback() to reset a callback to the default
 weak function.
 @ref HAL_RTC_UnRegisterCallback() takes as parameters the HAL peripheral handle,
 and the Callback ID.
 This function allows to reset following callbacks:
   (+) AlarmAEventCallback          : RTC Alarm A Event callback.
   (+) WakeUpTimerEventCallback     : RTC WakeUpTimer Event callback.
   (+) MspInitCallback              : RTC MspInit callback.
   (+) MspDeInitCallback            : RTC MspDeInit callback.

 By default, after the @ref HAL_RTC_Init() and when the state is HAL_RTC_STATE_RESET,
 all callbacks are set to the corresponding weak functions :
 examples @ref AlarmAEventCallback(), @ref WakeUpTimerEventCallback().
 Exception done for MspInit and MspDeInit callbacks that are reset to the legacy weak function
 in the @ref HAL_RTC_Init()/@ref HAL_RTC_DeInit() only when these callbacks are null
 (not registered beforehand).
 If not, MspInit or MspDeInit are not null, @ref HAL_RTC_Init()/@ref HAL_RTC_DeInit()
 keep and use the user MspInit/MspDeInit callbacks (registered beforehand)

 Callbacks can be registered/unregistered in HAL_RTC_STATE_READY state only.
 Exception done MspInit/MspDeInit that can be registered/unregistered
 in HAL_RTC_STATE_READY or HAL_RTC_STATE_RESET state,
 thus registered (user) MspInit/DeInit callbacks can be used during the Init/DeInit.
 In that case first register the MspInit/MspDeInit user callbacks
 using @ref HAL_RTC_RegisterCallback() before calling @ref HAL_RTC_DeInit()
 or @ref HAL_RTC_Init() function.

 When The compilation define USE_HAL_RTC_REGISTER_CALLBACKS is set to 0 or
 not defined, the callback registration feature is not available and all callbacks
 are set to the corresponding weak functions.</pre><dl class="section attention"><dt>Attention</dt><dd></dd></dl>
<h2><center>&copy; Copyright (c) 2018 STMicroelectronics. All rights reserved.</center></h2>
<p>This software component is licensed by ST under BSD 3-Clause license, the "License"; You may not use this file except in compliance with the License. You may obtain a copy of the License at: opensource.org/licenses/BSD-3-Clause </p>

<p>Definition in file <a class="el" href="bluenrg__lp__hal__rtc_8c_source.html">bluenrg_lp_hal_rtc.c</a>.</p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Copyright &copy; 2020 by STMicrolectronics. All rights reserved.<br>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
